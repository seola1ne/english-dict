#include <stdio.h>
#include <windows.h>
#include <conio.h>

#define Left 75 // 왼쪽 방향키(75)
#define Right 77 // 오른쪽 방향키(77)
#define UP 72 // 위쪽 방향키(72)
#define DOWN 80 // 아래쪽 방향키(80)
#define Submit 4 // 선택(스페이스바)

int KeyControl();
void init();
void mainMenu();
void gotoxy(int, int);
void textColor(int);

enum ColorType {
    BLACK,  	//0
    darkBLUE,	//1
    DarkGreen,	//2
    darkSkyBlue,    //3
    DarkRed,  	//4
    DarkPurple,	//5
    DarkYellow,	//6
    GRAY,		//7
    DarkGray,	//8
    BLUE,		//9
    GREEN,		//10
    SkyBlue,	//11
    RED,		//12
    PURPLE,		//13
    YELLOW,		//14
    WHITE		//15
} COLOR;

void textColor(int colorNum) { // 글자 색 변경 함수
    SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), colorNum);
}

void init() { // 콘솔창 크기 초기화 함수
    system("mode con cols=56 lines=20 | title 'C'lass card");
}

void titleDraw() { // 타이틀 출력 함수
    printf("\n\n\n\n");

    textColor(SkyBlue);
    printf("                    C");
    textColor(WHITE);
    printf("LASS ");
    textColor(SkyBlue);
    printf("C");
    textColor(WHITE);
    printf("ARD     \n\n\n");

    printf("  -------------------------------------------------\n\n");
}

void mainMenu() { // 메인 화면의 메뉴를 보이고 선택할 수 있게끔 하는 함수
    int x = 6, y = 10;

    gotoxy(x, y);
    printf("> 조회");
    gotoxy(x+10, y);
    printf("추가");
    gotoxy(x+18, y);
    printf("삭제");
    gotoxy(x+26, y);
    printf("테스트");
    gotoxy(x+34, y);
    printf("  랭킹   ");

    while(1) {
        int input = KeyControl(); // 사용자로부터 방향키/스페이스바 입력받음
        switch(input) {
            case Submit: {
                return y-8;
            }
        }
    }
}

void gotoxy(int x, int y) { // 커서 조정 함수
    HANDLE consoleHandle = GetStdHandle(STD_OUTPUT_HANDLE);
    COORD pos;
    pos.X = x;
    pos.Y = y;
    SetConsoleCursorPosition(consoleHandle, pos);
}

int KeyControl() { // 사용자 키 입력받아 해당 값 반환하는 함수
    char temp = _getch();

    if(temp == 75) {
        return Left;
    }
    else if(temp == 77) {
        return Right;
    }
    else if(temp == ' ') {
        return Submit;
    }

}

int main() {
    // init();
    titleDraw();
    mainMenu();
    return 0;
}
